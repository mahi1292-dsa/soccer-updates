"use strict";(self.webpackChunksoccer_updates=self.webpackChunksoccer_updates||[]).push([[595],{595:(A,g,r)=>{r.r(g),r.d(g,{HomeModule:()=>O});var i=r(895),l=r(237),e=r(256),d=r(4),p=r(529);let u=(()=>{class n{constructor(t){this.http=t,this.API="https://v3.football.api-sports.io",this.currentYear=(new Date).getFullYear(),this.selectedLeague={league:"",code:0}}getStandings(t,o,a=this.currentYear.toString()){return this.selectedLeague={league:t,code:o},this.http.get(`${this.API}/standings?league=${o}&season=${a}`).pipe((0,d.U)(s=>s))}getTeamScoresOfTopTen(t,o=this.currentYear.toString()){return this.http.get(`${this.API}/fixtures?team=${t}&season=${o}&last=10`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m(n,c){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",6),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8,"-"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"img",6),e.qZA()()),2&n){const t=c.$implicit;e.xp6(2),e.s9C("alt",t.teams.home.name),e.Q6J("src",t.teams.home.logo,e.LSH),e.xp6(2),e.hij(" ",t.teams.home.name," "),e.xp6(2),e.Oqu(t.score.fulltime.home),e.xp6(4),e.hij(" ",t.score.fulltime.away," "),e.xp6(2),e.Oqu(t.teams.away.name),e.xp6(2),e.s9C("alt",t.teams.away.name),e.Q6J("src",t.teams.away.logo,e.LSH)}}function f(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"table",2)(2,"tbody"),e.YNc(3,m,15,8,"tr",3),e.TgZ(4,"tr")(5,"td",4)(6,"button",5),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goToLeagueSelection())}),e._uU(7," Back "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.fixtures)}}function _(n,c){1&n&&(e.TgZ(0,"p"),e._uU(1,"No team found"),e.qZA())}let h=(()=>{class n{constructor(t,o,a){this.route=t,this.router=o,this.footballService=a,this.teamCode=0,this.selectedLeague="",this.fixtures=[]}ngOnInit(){this.route.params.subscribe(t=>{this.teamCode=+t.teamCode,this.getTeamScores(this.teamCode)})}getTeamScores(t){let o=localStorage.getItem(`detail+${t}+2023`);o?this.fixtures=JSON.parse(o):this.footballService.getTeamScoresOfTopTen(t).subscribe(a=>{this.fixtures=a.response,localStorage.setItem(`detail+${t}+2023`,JSON.stringify(this.fixtures)),this.selectedLeague=this.fixtures[0].league.country.toLowerCase()})}goToLeagueSelection(){this.router.navigate(["/soccer-teams"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-soccer-team-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noRecords",""],["id","leagueTable"],[4,"ngFor","ngForOf"],["colspan","7"],[1,"active",3,"click"],["width","30","height","30",3,"src","alt"]],template:function(t,o){if(1&t&&(e.YNc(0,f,8,1,"div",0),e.YNc(1,_,2,0,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(2);e.Q6J("ngIf",o.fixtures&&o.fixtures.length>0)("ngIfElse",a)}},dependencies:[i.sg,i.O5],styles:["td[_ngcontent-%COMP%]{margin:5px}"]}),n})();var T=r(727);function S(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",11),e.qZA(),e.TgZ(5,"td")(6,"a",12),e.NdJ("click",function(){const s=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.getSoccerTeamData(s.team.id))}),e._uU(7),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(2),e.Oqu(t.rank),e.xp6(2),e.s9C("src",t.team.logo,e.LSH),e.xp6(3),e.Oqu(t.team.name),e.xp6(2),e.Oqu(t.all.played),e.xp6(2),e.Oqu(t.all.win),e.xp6(2),e.Oqu(t.all.lose),e.xp6(2),e.Oqu(t.all.draw),e.xp6(2),e.Oqu(t.goalsDiff),e.xp6(2),e.Oqu(3*t.all.win+t.all.draw)}}function Z(n,c){if(1&n&&(e.TgZ(0,"div")(1,"table",9)(2,"thead"),e._UZ(3,"th")(4,"th"),e.TgZ(5,"th"),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Games"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"W"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"L"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"D"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Goal Difference"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Points"),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,S,20,9,"tr",10),e.qZA()()()),2&n){const t=e.oxw();e.xp6(20),e.Q6J("ngForOf",t.soccerLeagues)}}function C(n,c){1&n&&(e.TgZ(0,"p",13),e._uU(1,"No data found "),e.qZA())}let b=(()=>{class n{constructor(t,o){this.footballService=t,this.router=o,this.selectedLeague=null,this.soccerLeagues=[],this.standingsSub=new T.w0}ngOnInit(){const t=this.footballService.selectedLeague;t?.code&&this.getStandings(t?.league,t?.code)}getStandings(t,o){this.selectedLeague=t,this.footballService.selectedLeague={league:t,code:o};let a=localStorage.getItem(`${t}+${o}`);a?this.soccerLeagues=JSON.parse(a):this.standingsSub=this.footballService.getStandings(t,o).subscribe(s=>{s&&s.response&&s.response.length>0?(this.soccerLeagues=s.response[0].league.standings[0],localStorage.setItem(`${t}+${o}`,JSON.stringify(this.soccerLeagues))):console.error("Invalid API response.")},s=>{console.error("Error fetching data",s)})}getSoccerTeamData(t){this.router.navigate(["/soccer-teams",t||0])}ngOnDestroy(){this.standingsSub&&this.standingsSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-soccer-leagues"]],decls:18,vars:7,consts:[[1,"foot-ball-updates"],[1,"soccer-leagues"],["id","englandSelect",3,"ngClass","click"],["id","spainSelect",3,"ngClass","click"],["id","germanySelect",3,"ngClass","click"],["id","itlaySelect",3,"ngClass","click"],["id","franceSelect",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["noData",""],["id","soccerLeaguesTable"],[4,"ngFor","ngForOf"],["width","35","height","30",3,"src"],[3,"click"],[2,"text-align","center","color","red"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2,"Foot Ball Updates"),e.qZA(),e.TgZ(3,"div",1)(4,"button",2),e.NdJ("click",function(){return o.getStandings("england",39)}),e._uU(5," England "),e.qZA(),e.TgZ(6,"button",3),e.NdJ("click",function(){return o.getStandings("spain",140)}),e._uU(7," Spain "),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.getStandings("germany",78)}),e._uU(9," Germany "),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return o.getStandings("itlay",135)}),e._uU(11," Itlay "),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return o.getStandings("france",61)}),e._uU(13," France "),e.qZA()()(),e._UZ(14,"hr"),e.YNc(15,Z,21,1,"div",7),e.YNc(16,C,2,0,"ng-template",null,8,e.W1O)),2&t){const a=e.MAs(17);e.xp6(4),e.Q6J("ngClass","england"===o.selectedLeague?"active":""),e.xp6(2),e.Q6J("ngClass","spain"===o.selectedLeague?"active":""),e.xp6(2),e.Q6J("ngClass","germany"===o.selectedLeague?"active":""),e.xp6(2),e.Q6J("ngClass","itlay"===o.selectedLeague?"active":""),e.xp6(2),e.Q6J("ngClass","france"===o.selectedLeague?"active":""),e.xp6(3),e.Q6J("ngIf",o.soccerLeagues&&o.soccerLeagues.length>0)("ngIfElse",a)}},dependencies:[i.mk,i.sg,i.O5],styles:[".foot-ball-updates[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#04aa6d;text-align:center}.soccer-leagues[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:SPACE-EVENLY;background:linear-gradient(263deg,#729dee,#bac4d1);height:7vh;border-radius:50px}.active[_ngcontent-%COMP%]{color:green;background:rgb(155,48,48)}a[_ngcontent-%COMP%]{text-decoration:underline}a.active[_ngcontent-%COMP%]{text-decoration:none;color:#00f}button[_ngcontent-%COMP%]{height:5vh;width:auto;color:green;background:linear-gradient(white,rgb(143,143,143))}button.active[_ngcontent-%COMP%]{background:#04aa6d;color:#fff}.button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{opacity:.7;font-weight:400}#soccerLeaguesTable[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#soccerLeaguesTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;text-align:left;background-color:#14b830b2;color:#fff}#soccerLeaguesTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fdf6f6}#soccerLeaguesTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgb(160,156,156)}#soccerLeaguesTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #soccerLeaguesTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;font-size:10px;padding:8px}"]}),n})();const v=[{path:"",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"app-soccer-leagues")},dependencies:[b],encapsulation:2}),n})()},{path:":teamCode",component:h}];let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(v),l.Bz]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[i.ez,L]}),n})()}}]);